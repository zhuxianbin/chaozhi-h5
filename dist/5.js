webpackJsonp([5],{369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(397),i=n(465),a=n(4),s=a(o.a,i.a,!1,null,null,null);t.default=s.exports},387:function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".van-checkbox{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.van-checkbox__icon,.van-checkbox__label{display:inline-block;vertical-align:middle;line-height:20px}.van-checkbox__icon .van-icon{font-size:12px;color:transparent;text-align:center;line-height:inherit;border:1px solid #aaa;width:20px;height:20px;box-sizing:border-box}.van-checkbox__icon--round .van-icon{border-radius:100%}.van-checkbox__icon--checked .van-icon{color:#fff;border-color:#06bf04;background-color:#06bf04}.van-checkbox__icon--disabled .van-icon{color:#f8f8f8;border-color:#eee;background-color:currentColor}.van-checkbox__icon--disabled.van-checkbox__icon--checked .van-icon{border-color:#eee;background-color:#eee}.van-checkbox__label{margin-left:10px}.van-checkbox__label--left{float:left;margin:0 10px 0 0}",""])},389:function(e,t,n){var o=n(387);"string"==typeof o&&(o=[[e.i,o,""]]);n(1)(o,{});o.locals&&(e.exports=o.locals)},391:function(e,t,n){"use strict";var o=n(5),i=n(137);t.a=n.i(o.a)({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.b()},[n("div",{class:[e.b("icon",[e.shape,{disabled:e.isDisabled,checked:e.checked}])],on:{click:e.toggle}},[e._t("icon",[n("icon",{attrs:{name:"success"}})],{checked:e.checked})],2),e.$slots.default?n("span",{class:e.b("label",e.labelPosition),on:{click:function(t){e.toggle("label")}}},[e._t("default")],2):e._e()])},name:"checkbox",mixins:[i.a],props:{name:null,value:null,disabled:Boolean,labelPosition:String,labelDisabled:{type:Boolean,default:!1},shape:{type:String,default:"round"}},computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(e){var t=this.parent;if(t){var n=this.parent.value.slice();if(e){if(t.max&&n.length>=t.max)return;-1===n.indexOf(this.name)&&(n.push(this.name),t.$emit("input",n))}else{var o=n.indexOf(this.name);-1!==o&&(n.splice(o,1),t.$emit("input",n))}}else this.$emit("input",e)}},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled}},watch:{value:function(e){this.$emit("change",e)}},created:function(){this.findParent("van-checkbox-group")},methods:{toggle:function(e){this.isDisabled||"label"===e&&this.labelDisabled||(this.checked=!this.checked)}}})},397:function(e,t,n){"use strict";var o=n(13),i=n.n(o),a=(n(449),n(448));t.a={components:i()({},a.a.name,a.a),data:function(){return{coupons:[],chosenCoupon:-1,disabledCoupons:[]}},methods:{onChange:function(e){this.showList=!1,this.chosenCoupon=e},onExchange:function(e){this.coupons.push(coupon),this.disabledCoupons.push(coupon)}},created:function(){var e={available:1,discount:0,denominations:150,originCondition:0,reason:"",value:150,name:"优惠券名称",startAt:1489104e3,endAt:1514592e3};this.coupons.push(e)}}},413:function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".van-coupon-list{height:100%;position:relative;background-color:#f8f8f8}.van-coupon-list__field{padding:7px 15px}.van-coupon-list__exchange{height:32px;line-height:30px}.van-coupon-list__list{overflow-y:auto;padding:15px 0;box-sizing:border-box;-webkit-overflow-scrolling:touch}.van-coupon-list__close{left:0;bottom:0;position:absolute;font-weight:500}.van-coupon-list__empty{padding-top:100px;text-align:center}.van-coupon-list__empty p{color:#999;margin:15px 0;font-size:14px;line-height:20px}.van-coupon-list__empty img{width:80px;height:84px}.van-coupon-item{overflow:hidden;border-radius:4px;margin:0 15px 15px;background-color:#fff;box-shadow:0 0 4px rgba(0,0,0,.1)}.van-coupon-item:active{background-color:#e8e8e8}.van-coupon-item__content{display:-ms-flexbox;display:flex;height:100px;padding:24px 0 0 15px;box-sizing:border-box}.van-coupon-item h2,.van-coupon-item p{margin:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.van-coupon-item h2{height:34px;font-weight:500;line-height:34px}.van-coupon-item p{font-size:12px;line-height:16px;color:#999}.van-coupon-item__head{min-width:90px}.van-coupon-item__head h2{color:#f44;font-size:24px}.van-coupon-item__head h2 span{font-size:50%}.van-coupon-item__body{-ms-flex:1;flex:1;position:relative;border-radius:0 4px 4px 0}.van-coupon-item__body h2{font-size:16px}.van-coupon-item__corner{top:16px;right:15px;position:absolute}.van-coupon-item__corner .van-icon{border-color:#f44;background-color:#f44}.van-coupon-item__reason{padding:7px 15px;background-color:#fbfbfb;border-top:1px dashed #eee}.van-coupon-item--disabled:active{background-color:#fff}.van-coupon-item--disabled .van-coupon-item__content{height:90px}.van-coupon-item--disabled h2,.van-coupon-item--disabled p,.van-coupon-item--disabled span{color:#999}",""])},433:function(e,t,n){var o=n(413);"string"==typeof o&&(o=[[e.i,o,""]]);n(1)(o,{});o.locals&&(e.exports=o.locals)},447:function(e,t,n){"use strict";var o=n(5),i=n(391);t.a=n.i(o.a)({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.b({disabled:e.disabled})},[n("div",{class:e.b("content")},[n("div",{class:e.b("head")},[n("h2",{domProps:{innerHTML:e._s(e.faceAmount)}}),n("p",[e._v(e._s(e.conditionMessage))])]),n("div",{class:e.b("body")},[n("h2",[e._v(e._s(e.data.name))]),n("p",[e._v(e._s(e.validPeriod))]),e.chosen?n("checkbox",{class:e.b("corner"),attrs:{value:!0}}):e._e()],1)]),e.disabled&&e.data.reason?n("p",{class:e.b("reason")},[e._v(e._s(e.data.reason))]):e._e()])},name:"coupon-item",props:{data:Object,chosen:Boolean,disabled:Boolean},components:{Checkbox:i.a},computed:{validPeriod:function(){return this.$t("valid")+"："+this.getDate(this.data.startAt)+" - "+this.getDate(this.data.endAt)},faceAmount:function(){return 0!==this.data.denominations?"<span>¥</span> "+this.formatAmount(this.data.denominations):0!==this.data.discount?this.formatDiscount(this.data.discount):""},conditionMessage:function(){var e=this.data.originCondition;return e=e%100==0?Math.round(e/100):(e/100).toFixed(2),0===this.data.originCondition?this.$t("unlimited"):this.$t("condition",e)}},methods:{getDate:function(e){var t=new Date(1e3*e);return t.getFullYear()+"."+this.padZero(t.getMonth()+1)+"."+this.padZero(t.getDate())},padZero:function(e){return(e<10?"0":"")+e},formatDiscount:function(e){return this.$t("discount",""+(e/10).toFixed(e%10==0?0:1))},formatAmount:function(e){return(e/100).toFixed(e%100==0?0:e%10==0?1:2)}}})},448:function(e,t,n){"use strict";var o=n(5),i=n(447),a=n(44),s=n(30),c=n(142),r=n(143);t.a=n.i(o.a)({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.b()},[e.showExchangeBar?n("field",{class:e.b("field"),attrs:{clearable:"",border:!1,placeholder:e.inputPlaceholder||e.$t("placeholder"),maxlength:20},model:{value:e.currentCode,callback:function(t){e.currentCode=t},expression:"currentCode"}},[n("van-button",{class:e.b("exchange"),attrs:{slot:"button",size:"small",type:"danger",text:e.exchangeButtonText||e.$t("exchange"),loading:e.exchangeButtonLoading,disabled:e.buttonDisabled},on:{click:e.onClickExchangeButton},slot:"button"})],1):e._e(),n("tabs",{class:e.b("tab"),attrs:{"line-width":120},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("tab",{attrs:{title:e.title}},[n("div",{class:e.b("list"),style:e.listStyle},[e._l(e.coupons,function(t,o){return n("coupon-item",{key:t.id||t.name,ref:"card",refInFor:!0,attrs:{data:t,chosen:o===e.chosenCoupon},nativeOn:{click:function(t){e.$emit("change",o)}}})}),e.coupons.length?e._e():n("div",{class:e.b("empty")},[n("img",{attrs:{src:"https://img.yzcdn.cn/v2/image/wap/trade/new_order/empty@2x.png"}}),n("p",[e._v(e._s(e.$t("empty")))])])],2)]),n("tab",{attrs:{title:e.disabledTitle}},[n("div",{class:e.b("list"),style:e.listStyle},[e._l(e.disabledCoupons,function(e){return n("coupon-item",{key:e.id||e.name,attrs:{disabled:"",data:e}})}),e.disabledCoupons.length?e._e():n("div",{class:e.b("empty")},[n("img",{attrs:{src:"https://img.yzcdn.cn/v2/image/wap/trade/new_order/empty@2x.png"}}),n("p",[e._v(e._s(e.$t("empty")))])])],2)])],1),n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.showCloseButton,expression:"showCloseButton"}],class:e.b("close"),attrs:{size:"large",text:e.closeButtonText||e.$t("close")},on:{click:function(t){e.$emit("change",-1)}}})],1)},name:"coupon-list",components:{Tab:c.a,Tabs:r.a,Field:a.a,VanButton:s.a,CouponItem:i.a},model:{prop:"code"},props:{code:String,closeButtonText:String,inputPlaceholder:String,disabledListTitle:String,exchangeButtonText:String,exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,exchangeMinLength:{type:Number,default:1},chosenCoupon:{type:Number,default:-1},coupons:{type:Array,default:function(){return[]}},disabledCoupons:{type:Array,default:function(){return[]}},displayedCouponIndex:{type:Number,default:-1},showExchangeBar:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!0}},data:function(){return{tab:0,winHeight:window.innerHeight,currentCode:this.code||""}},computed:{buttonDisabled:function(){return!this.exchangeButtonLoading&&(this.exchangeButtonDisabled||!this.currentCode||this.currentCode.length<this.exchangeMinLength)},title:function(){return this.$t("enable")+" ("+this.coupons.length+")"},disabledTitle:function(){return this.$t("disabled")+" ("+this.disabledCoupons.length+")"},listStyle:function(){return{height:this.winHeight-(this.showExchangeBar?140:94)+"px"}}},watch:{code:function(e){this.currentCode=e},currentCode:function(e){this.$emit("input",e)},displayedCouponIndex:function(e){this.scrollToShowCoupon(e)}},mounted:function(){this.scrollToShowCoupon(this.displayedCouponIndex)},methods:{onClickExchangeButton:function(){this.$emit("exchange",this.currentCode),this.code||(this.currentCode="")},scrollToShowCoupon:function(e){var t=this;-1!==e&&this.$nextTick(function(){var n=t.$refs,o=n.card,i=n.list;i&&o&&o[e]&&(i.scrollTop=o[e].$el.offsetTop-100)})}}})},449:function(e,t,n){"use strict";var o=n(3),i=(n.n(o),n(389)),a=(n.n(i),n(138)),s=(n.n(a),n(139)),c=(n.n(s),n(433));n.n(c)},465:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;return(e._self._c||t)("van-coupon-list",{attrs:{"show-exchange-bar":!1,"show-close-button":!1,coupons:e.coupons,"chosen-coupon":e.chosenCoupon,"disabled-coupons":e.disabledCoupons},on:{change:e.onChange,exchange:e.onExchange}})},i=[],a={render:o,staticRenderFns:i};t.a=a}});
//# sourceMappingURL=5.js.map?9c243a5c5d8af47c7cd0