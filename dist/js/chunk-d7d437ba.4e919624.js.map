{"version":3,"sources":["webpack:///./src/pages/center/orders.vue?64bf","webpack:///src/pages/center/orders.vue","webpack:///./src/pages/center/orders.vue?6ad6","webpack:///./src/pages/center/orders.vue","webpack:///./src/pages/center/orders.vue?b069"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","key","id","staticStyle","padding","attrs","slot","span","font-size","_v","_s","product_name","starttime","status","price","direction","active-color","sub","instalment_num","sub_orders","length","can_pay","size","type","on","click","$event","doPay","_e","due_time","is_split","old","plain","doOption","staticRenderFns","ordersvue_type_script_lang_js_","components","_components","Object","defineProperty","es","name","data","dialog","show","rows","-2","-1","0","1","2","methods","getRows","_this","api","then","_ref","code","temp","map","indexOf","product_id","push","$router","query","order_id","window","location","href","concat","config","auth","created","center_ordersvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_orders_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_orders_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-d7d437ba.4e919624.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('van-list',[_vm._l((_vm.rows),function(item){return [_c('van-panel',{key:item.id,staticClass:\"mb-10\"},[_c('div',{staticStyle:{\"padding\":\"5px 15px\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"20\"}},[_c('div',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(_vm._s(item.product_name))]),_c('div',{staticClass:\"t-gray\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(item.starttime))])]),_c('van-col',{staticClass:\"t-right\",attrs:{\"span\":\"4\"}},[(item.status==0)?_c('span',{staticClass:\"t-red\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.status[item.status]))]):(item.status==1)?_c('span',{staticClass:\"t-blue\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.status[item.status]))]):(item.status==2)?_c('span',{staticClass:\"t-green\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.status[item.status]))]):_c('span',{staticClass:\"t-gray\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.status[item.status]))]),_c('div',[_c('span',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"¥\"+_vm._s(item.price/100))])])])],1)],1),(item.status>=0)?[(item.sub_orders)?_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('div',{staticClass:\"t-gray mb-10 t-12\"},[_vm._v(\"\\n              分期付款\\n            \")]),_c('van-steps',{attrs:{\"direction\":\"vertical\",\"active-color\":\"#f60\"}},_vm._l((item.sub_orders),function(sub){return _c('van-step',{key:sub.id},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"18\"}},[_vm._v(\"【\"+_vm._s(sub.instalment_num)+\"/\"+_vm._s(item.sub_orders.length)+\"】金额:¥\"+_vm._s(sub.price/100))]),_c('van-col',{staticClass:\"t-right\",attrs:{\"span\":\"6\"}},[(sub.can_pay==2)?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.doPay(sub)}}},[_vm._v(\"申请分期\")]):_vm._e(),(sub.can_pay == 1)?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.doPay(sub)}}},[_vm._v(\"支付\")]):_vm._e()],1)],1),(sub.due_time)?_c('div',{staticClass:\"t-12\"},[_vm._v(\"最后付款日:\"+_vm._s(sub.due_time))]):_vm._e()],1)}))],1):_vm._e()]:_vm._e(),_c('div',{staticStyle:{\"padding\":\"10px 15px\"}},[_c('van-row',[_c('van-col',{staticClass:\"t-right\",attrs:{\"span\":\"24\"}},[(!item.is_split)?[(item.status == 0)?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.doPay(item)}}},[_vm._v(\"支付\")]):_vm._e(),(item.status<0&&!item.old)?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){_vm.doOption(item)}}},[_vm._v(\"重新下单\")]):_vm._e()]:_vm._e()],2)],1)],1)],2)]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <van-list>\n      <template v-for=\"item in rows\">\n        <van-panel class=\"mb-10\" :key=\"item.id\">\n          <div slot=\"header\" style=\"padding:5px 15px;\">\n            <van-row>\n              <van-col span=\"20\">\n                <div style=\"font-size:14px;\">{{item.product_name}}</div>\n                <div style=\"font-size:12px;\" class=\"t-gray\">{{item.starttime}}</div>\n              </van-col>\n              <van-col span=\"4\" class=\"t-right\">\n                <span style=\"font-size:12px;\" v-if=\"item.status==0\" class=\"t-red\">{{status[item.status]}}</span>\n                <span style=\"font-size:12px;\" v-else-if=\"item.status==1\" class=\"t-blue\">{{status[item.status]}}</span>\n                <span style=\"font-size:12px;\" v-else-if=\"item.status==2\" class=\"t-green\">{{status[item.status]}}</span>\n                <span style=\"font-size:12px;\" v-else class=\"t-gray\">{{status[item.status]}}</span>\n                <div>\n                  <span style=\"font-size:12px;\">¥{{item.price/100}}</span>\n                </div>\n              </van-col>\n            </van-row>\n          </div>\n          <template v-if=\"item.status>=0\">\n            <div v-if=\"item.sub_orders\" style=\"padding:10px\">\n              <div class=\"t-gray mb-10 t-12\">\n                分期付款\n              </div>\n              <van-steps direction=\"vertical\"  active-color=\"#f60\">\n                <van-step v-for=\"sub in item.sub_orders\" :key=\"sub.id\">\n                  <van-row>\n                    <van-col span=\"18\">【{{sub.instalment_num}}/{{item.sub_orders.length}}】金额:¥{{sub.price/100}}</van-col>\n                    <van-col span=\"6\" class=\"t-right\">\n                      <van-button size=\"small\" @click=\"doPay(sub)\" v-if='sub.can_pay==2' type=\"primary\">申请分期</van-button>\n                      <van-button @click=\"doPay(sub)\" v-if=\"sub.can_pay == 1\" size=\"small\" type=\"danger\">支付</van-button>\n                    </van-col>\n                  </van-row>\n                  <div class='t-12' v-if='sub.due_time'>最后付款日:{{sub.due_time}}</div>\n                </van-step>\n              </van-steps>\n              <!-- <div class=\"t-center t-12\">\n                <van-row gutter=\"10\">\n                  <template v-for=\"sub in item.sub_orders\">\n                    <van-col span=\"12\" :key='sub.id' class=\"mb-10\">\n                      <van-button type=\"primary\" style=\"line-height:20px;\" :disabled=\"!sub.can_pay\" block plain>\n                        <div>期数:{{sub.instalment_num}}/{{item.sub_orders.length}}</div>\n                        <div>金额:¥{{sub.price/100}}</div>\n                      </van-button>\n                    </van-col>\n                  </template>\n                </van-row>\n              </div> -->\n            </div>\n          </template>\n          <div style=\"padding:10px 15px\">\n            <van-row>\n              <van-col span=\"24\" class=\"t-right\">\n                <!-- <van-button size=\"small\">按钮</van-button> -->\n                <template v-if=\"!item.is_split\">\n                  <van-button @click=\"doPay(item)\" v-if=\"item.status == 0\" size=\"small\" type=\"danger\">支付</van-button>\n                  <van-button @click=\"doOption(item)\" v-if=\"item.status<0&&!item.old\" size=\"small\" type=\"danger\" plain>重新下单</van-button>\n                </template>\n              </van-col>\n            </van-row>\n            \n          </div>\n        </van-panel>\n      </template>\n    </van-list>\n  </div>\n</template>\n\n<script>\nimport { List, Panel, Button, Row, Col, Step, Steps } from \"vant\";\nimport { getOrderList } from \"@/utils/api\";\nimport { baseUrl } from \"@/utils/config\";\nimport { getToken } from \"@/utils/auth\";\nexport default {\n  components: {\n    [List.name]: List,\n    [Panel.name]: Panel,\n    [Button.name]: Button,\n    [Row.name]: Row,\n    [Col.name]: Col,\n    [Step.name]: Step,\n    [Steps.name]: Steps\n  },\n  data() {\n    return {\n      dialog: {\n        show: false,\n        data: []\n      },\n      rows: [],\n      status: {\n        \"-2\": \"订单超时\",\n        \"-1\": \"订单取消\",\n        \"0\": \"待支付\",\n        \"1\": \"部分支付\",\n        \"2\": \"支付完成\"\n      }\n    };\n  },\n  methods: {\n    getRows() {\n      getOrderList().then(({ code, data }) => {\n        let temp = [];\n        this.rows = data.map(item => {\n          if (temp.indexOf(item.product_id) < 0) {\n            temp.push(item.product_id);\n          } else {\n            item.old = true;\n          }\n          return item;\n        });\n      });\n    },\n    doPay(item) {\n      if (item.can_pay == 2) {\n        const order_id = item.order_id;\n        window.location.href = `${baseUrl}/api/pay/haimi/h5/${order_id}?token=${getToken()}`;\n        return;\n      }\n      return this.$router.push({\n        name: \"pay\",\n        query: { order_id: item.order_id }\n      });\n    },\n    doOption(item) {\n      return this.$router.push({\n        name: \"pay\",\n        query: { product_id: item.product_id }\n      });\n    }\n  },\n  created() {\n    this.getRows();\n  }\n};\n</script>\n\n<style lang='less'>\n.page {\n  padding: 0 0 50px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orders.vue?vue&type=template&id=7fb01435&\"\nimport script from \"./orders.vue?vue&type=script&lang=js&\"\nexport * from \"./orders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orders.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"orders.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orders.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orders.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}